{"componentChunkName":"component---src-templates-log-js","path":"/log/cancellast","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Slurm Shortcuts: One Command to Cancel Last Submitted Job","date":"2020-08-18"},"html":"<p>TDLR; </p>\n<pre><code>scancel $(squeue -u username -h --format=\"%.15A\" | sort -r | head -n1)\n</code></pre>\n<p>As I was waiting for some code to compile I decided to help FutureMe out and figure out this handy shortcut.\nOne command to cancel the last job submitted to the slurm queue. This is useful to me since I usually submit my postprocessing scripts and sometimes after submitting I realized there was an error in it :/ </p>\n<p>So I wanted a quick command to cancel the last job that I submitted, the solution utilizes the built in slurm commands <strong>squeue</strong> and <strong>scancel</strong> and some simple bash commands. </p>\n<p>First, retrieve all the JOBIDs running under your username. </p>\n<pre><code>squeue -u username -h --format=\"%.15A\"\n</code></pre>\n<p>From the slurm docs, <code>-h</code> hides the header while <code>--format</code> allows you to specify the format of the output and <em>A</em> is the flag for JOBID. </p>\n<p>Then use pipe that into <code>sort</code> (with the <code>-r</code> flag so that it goes from high to low) then into <code>head</code> ( with <code>-n1</code> for only the one entry). </p>\n<p>Then you can add this to your .bashrc file etc. </p>\n<pre><code>alias cancellast='scancel $(squeue -u username -h --format=\"%.15A\" | sort -r | head -n1)'\n</code></pre>\n<p><em>With great power comes great responsibility. Use it well.</em> </p>"}},"pageContext":{"slug":"cancellast"}},"staticQueryHashes":["2890141520","440568431"]}