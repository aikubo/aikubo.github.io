{"componentChunkName":"component---src-templates-log-js","path":"/log/globuserr","webpackCompilationHash":"922a9dd3c313ae3ff77d","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Globus tcllib not found Error","date":"2020-07-2"},"html":"<h2>Error of the Week</h2>\n<p>When I was trying to install globus connect using the downloaded script I was getting this error:</p>\n<pre><code>>>> Tcllib not found.\nThe Globus Connect Personal GUI requires Tcllib.\nPlease install Tcllib using your distributions package management system.\nOn Debian based systems (e.g. Ubunutu):\n  apt-get install tcllib\nOn Redhat based systems (e.g. CentOS, Fedora):\n  yum install tcllib\n Note: if you encounter an error about tcllib not being\n available, it can be found here and installed manually:\n http://www.tcl.tk/software/tcllib/\nYou may also run Globus Connect Personal in CLI mode.\nPlease use the -help option or visit http://globus.org/globus-connect-personal/\nfor more information.\n</code></pre>\n<p>Okay simple enough slap an <code>apt install</code> on that bad boy. </p>\n<pre><code>sudo apt install tcllib tcl tk\n</code></pre>\n<p>But I kept getting:</p>\n<pre><code>>>> Tcllib not found\n</code></pre>\n<h2>Solution</h2>\n<p>Turns out it is an issue with the conda environment. The work around is to specify the path to tcllib then run globus connect. </p>\n<h3>Step 1</h3>\n<p>Not sure if this is necessary for everyone but I had to do it. Open up and change the interpereter for the python script gc.py and gc-ctrl.py</p>\n<p>The first line for me was </p>\n<pre><code>#!/usr/bin/env python\n</code></pre>\n<p>I replaced it with </p>\n<pre><code>#!/usr/bin/python2.7\n</code></pre>\n<h3>Step 2</h3>\n<p>Specify the path when running globus. I found this vis <a href=\"https://askubuntu.com/questions/1115411/globus-personal-connect-tcllib-installed-but-keeps-showing-tcllib-not-found\">this StackExchange</a>. Credit to @N0bert. </p>\n<pre><code>PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\" ./globusconnect\n</code></pre>\n<p>I added this as a alias in my <code>.bashrc</code> file for ease with this line:</p>\n<pre><code>alias globus='PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\" PATH_TO_SCRIPT/globusconnect'\n</code></pre>\n<h2>Diagnosing this issue</h2>\n<p>Check tcllib is installed :</p>\n<pre><code>>>> dpkg -l | grep tcl\nii  libtcl8.6:amd64                                  8.6.10+dfsg-1                                        amd64        Tcl (the Tool Command Language) v8.6 - run-time library files\nii  partclone                                        0.3.13+dfsg-4                                        amd64        Utility to clone and restore a partition\nii  tcl                                              8.6.9+1                                              amd64        Tool Command Language (default version) - shell\nii  tcl8.6                                           8.6.10+dfsg-1                                        amd64        Tcl (the Tool Command Language) v8.6 - shell\nii  tcllib                                           1.20+dfsg-1                                          all          Standard Tcl Library\n</code></pre>\n<p>So it is installed. But where is it ?</p>\n<pre><code>>>> whereis tcllib\ntcllib:\n</code></pre>\n<p>Test out this command to see if you can use parts of tcllib</p>\n<pre><code>>>> echo 'puts $auto_path; package req csv' | tclsh\n/home/usr/anaconda3/lib/tcl8.6 /home/usr/anaconda3/lib\ncan't find package csv\n</code></pre>\n<p>If you get somepath with anaconda then you know it might be an environments/conda issue. </p>\n<h2>Why does this solution work?</h2>\n<p>For some reason the conda environments mess with globus' use of tcllib so we have to avoid them completely. Maybe if you are more conda savvy than me you can figure out how to conda magic it so this isn't an issue. I did try several <code>conda env</code> commands with no luck. </p>\n<p>The <code>env</code> of <strong>Step 1</strong> is a command that looks for the default version of a program. </p>\n<p>The results of <code>env</code> command:</p>\n<pre><code>>>> env | grep \"PATH\"\nPATH=/home/usr/anaconda3/bin:/home/usr/anaconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\n</code></pre>\n<p>My default is anaconda's python version which I couldn't get working so the changed it to just plain <code>python</code> skirts this issue. Then you also have to tell it the correct path to the library. </p>\n<p>Hopefully I will have time soon to dive into conda environments so I don't have this issue again. </p>"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"globuserr"}}}